const dialog = [
    "‡πÄ‡∏≠‡∏≤‡∏´‡∏•‡πà‡∏∞‡πÜ ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ü‡∏ô Happy valentine's day ‡∏Ñ‡∏£‡∏±‡∏ö‡∏ú‡∏°_",
    "‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏´‡πâ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡πÅ‡∏ü‡∏ô‡∏°‡∏≤‡∏ô‡∏≤‡∏ô‡πÄ‡∏•‡∏¢ ‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏õ‡∏µ‡πÄ‡∏•‡∏¢‡∏°‡∏±‡πâ‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏á‡∏±‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏ó‡∏≥‡∏°‡∏≤‡∏Å‡πÜ‡πÄ‡∏•‡∏¢_",
    "‡πÅ‡∏ï‡πà‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡πÑ‡∏õ‡πÄ‡∏•‡∏¢‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡∏°‡∏±‡∏ô‡∏Å‡πá‡∏à‡∏∞‡∏à‡∏ö‡πÑ‡∏ß‡πâ‡πÄ‡∏Å‡∏¥‡∏ô‡∏á‡∏±‡πâ‡∏ô‡∏°‡∏≤‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ ‡πÄ‡∏´‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏•‡πà‡∏≤‡∏á‡πÑ‡∏´‡∏° ‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÅ‡∏î‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏á‡∏≠‡∏¢‡∏π‡πà_",
    "‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏°‡∏≤‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏° ‡∏Å‡∏±‡∏ô‡∏ñ‡πâ‡∏≤‡∏°‡∏±‡∏ô‡∏ñ‡∏∂‡∏á‡∏™‡∏¥‡∏ö‡πÄ‡∏°‡∏¥‡πà‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡πÅ‡∏ü‡∏ô‡πÑ‡∏õ",
    "‡πÄ‡∏≠‡∏≤‡∏•‡∏∞‡πÜ‡∏°‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏¢‡∏≤‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô ‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡πÉ‡∏´‡πâ‡∏¢‡∏≤‡∏Å‡πÅ‡∏´‡∏•‡∏∞‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ô‡∏≤‡∏ô‡πÜ‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏Æ‡∏µ‡πà‡πÜ‡πÜ‡πÜ‡πÜ üòÅ; üòÅ;",
    "I'm here_",
    "I'm he_",
];

let Currentindex = 4;
let charIndex = 0;
let typingSpeed = 10;
let isTyping = false;
let block = false;

function diaring() {
    if (charIndex < dialog[Currentindex].length) {
        document.getElementById("dialog").innerHTML += dialog[Currentindex].charAt(charIndex);
        charIndex++;
        setTimeout(diaring, typingSpeed);
    } else {
        charIndex = 0;
        isTyping = false;
    }
}

export function startTyping() {
    if (!isTyping) {
        isTyping = true;
        document.getElementById("dialog").innerHTML = "";
        diaring();
    }
}

function setCurrentindex(value) {
    Currentindex = value;
    document.dispatchEvent(new CustomEvent('CurrentindexChanged', { detail: Currentindex }));
}

export function next() {
    if (isTyping || block) return;
    setCurrentindex((Currentindex + 1) % dialog.length);
    startTyping();
}

export function setBlock(value) {
    block = value;
}

document.addEventListener("DOMContentLoaded", () => {
    const dialogBox = document.querySelector('.dialogBox');
    if (dialogBox) {
        dialogBox.addEventListener('click', next);
    }
});

startTyping();

window.setBlock = setBlock;
window.next = next;
export { Currentindex};
